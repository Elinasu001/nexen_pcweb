<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>

<%@ page import="com.nexwrms.cfo.com.constants.WebConstants" %>
<%@ page import="com.nexwrms.core.context.AppContext" %>

<link type="text/css" rel="stylesheet" href="/css/OverlayScrollbars.css">
<script type="text/javascript" src="/js/lib/jquery.overlayScrollbars.js"></script>
<script type="text/javascript" src="/js/scroll.js"></script>
		<form id="frm" name="frm" method="post" >
			<input type="hidden" name="searchGbn"		id="searchGbn" />		<!-- N : 차량번호 , C : 차종 , S : 사이즈 -->
			<input type="hidden" name="carNo"			id="carNo"  />			<!-- 차량번호 -->
			<input type="hidden" name="makerCd" 		id="makerCd"  />		<!-- 제조사 코드 -->
			<input type="hidden" name="makerNm" 		id="makerNm" />			<!-- 제조사 명 -->
			<input type="hidden" name="modelCd" 		id="modelCd"  />		<!-- 차 모델 코드 -->
			<input type="hidden" name="modelNm" 		id="modelNm" />			<!-- 차 모델  명 -->
			<input type="hidden" name="contentsCd" 		id="contentsCd" />		<!-- 차 사양 코드 -->
			<input type="hidden" name="sectionWidth" 	id="sectionWidth" />	<!-- 단면폭 or sectionWidth -->
			<input type="hidden" name="aspectRatio" 	id="aspectRatio" />		<!-- 편평비 or aspectRatio -->
			<input type="hidden" name="wheelInches" 	id="wheelInches" />		<!-- 인치    or wheelInches -->
			<input type="hidden" name="TireSizeCd" 		id="TireSizeCd" />		<!-- 사이즈ㅡ > 단면폭 + 편평비 + 인치 -->
			<input type="hidden" name="TireSizeNm" 		id="TireSizeNm" />		<!-- 사이즈ㅡ > 단면폭 + 편평비 + 인치 -->

			<!-- 상세 화면 용 -->
			<input type="hidden" name="dMakerCd" 	id="dMakerCd" />	<!-- 제조사 코드 -->
			<input type="hidden" name="petternCd" 	id="petternCd" />	<!-- 패턴 코드 -->
			<input type="hidden" name="frCd" 		id="frCd" />		<!-- 앞뒤 구분 -->
			<input type="hidden" name="classCd" 	id="classCd" />		<!-- 치종 구분 > 승용차 / SUV -->
			<input type="hidden" name="matCd" 		id="matCd" />		<!-- 상품코드 -->
			<input type="hidden" name="plyRating" 	id="plyRating" />	<!-- 강도 -->
			<input type="hidden" name="description" 	id="description" />
			<input type="hidden" name="seasonCd" 		id="seasonCd" />		<!-- 계절 구분-->
			<input type="hidden" name="seasonCdNm" 		id="seasonCdNm" />
			<!-- paging -->
			<input type="hidden" name="pageNo"	id="pageNo"	value="1"/>		<!-- 현재 페이지 -->
			<input type="hidden" name="pageSize"	id="pageSize" 	value="9" />		<!-- 페이지에 표시할 수 -->
		</form>
		
		<!-- layerPopup > 제조사 // -->
		<div class="popupWrap type02 md-modal-3" id="modal-3"> <!-- md-show -->
			<header>
				<h2>
					제조사
					<a class="size" id="show04" title="사이즈 확인 툴팁"></a>
					<a href="#" class="layPopClose md-close"></a>
				</h2>
			</header>

			<!--tipShow-->
	        <div class="tipShow type02 tip07" id="tipshow04">
	            <header>
	                <h3 class="type06">타이어 사이즈 확인</h3> <i class="tipOver"></i>
	            </header>

	            <img src="/img/product/size.png" alt="타이어 사이즈"/>
	        </div>
			
			<div class="sizeSelectView">
				<ul>
				</ul>
			</div>
	        <!--contents-->
	        <div class="popContents">
	            <div class="alertView">
	                <!-- sizeSelect-->
	                <div class="scrollBox" id="searchClCdArea">
	                </div>
	                <!-- sizeSelect-->
			    </div>
	        </div>
	        <!--contents-->
	    </div>
		<!-- layerPopup > 제조사  // -->

		<!-- layerPopup > 모델명 // -->
		<div class="popupWrap type02 md-modal-3" id="modal-4"> <!-- md-show -->
			<header>
				<h2>
					모델명
					<a class="size" id="show05" title="사이즈 확인 툴팁"></a>
					<a href="#" class="layPopClose md-close"></a>
				</h2>
			</header>

			<!--tipShow-->
	        <div class="tipShow type02 tip07" id="tipshow05">
	            <header>
	                <h3 class="type06">타이어 사이즈 확인</h3> <i class="tipOver"></i>
	            </header>

	            <img src="/img/product/size.png" alt="타이어 사이즈"/>
	        </div>
			
			 <div class="sizeSelectView">
				<ul>
				</ul>
			</div>
	        <!--contents-->
	        <div class="popContents">
	            <div class="alertView">
	                <!-- sizeSelect-->
	                <div class="scrollBox" id="modelArea">
	                </div>
	                <!-- sizeSelect-->
			    </div>
	        </div>
	        <!--contents-->
	    </div>
		<!-- layerPopup > 모델명  // -->

		<!-- layerPopup > 사이즈  // -->
		<div class="popupWrap type02 md-modal-3" id="modal-5"> <!-- md-show -->
			<header>
				<h2>
					사이즈
					<a class="size" id="show06" title="사이즈 확인 툴팁"></a>
					<a href="#" class="layPopClose md-close"></a>
				</h2>
			</header>

			<!--tipShow-->
	        <div class="tipShow type02 tip07" id="tipshow06">
	            <header>
	                <h3 class="type06">타이어 사이즈 확인</h3> <i class="tipOver"></i>
	            </header>

	            <img src="/img/product/size.png" alt="타이어 사이즈"/>
	        </div>

			 <div class="sizeSelectView">
				<ul>
				</ul>
			</div>

	        <!--contents-->
	        <div class="popContents">
	            <div class="alertView">
	                <!-- sizeSelect-->
	                <div class="scrollBox" id="sizeArea">
	                </div>
	                <!-- sizeSelect-->
			    </div>
	        </div>
	        <!--contents-->
	    </div>
	    <div class="md-overlay"></div>
		<!-- layerPopup > 사이즈 // -->
		
		<form name="jusoFrm" id="jusoFrm" method="post" >
			<input type="hidden" name="currentPage" id="currentPage" value="1"/>
			<input type="hidden" name="countPerPage" id="countPerPage" value="4"/>
			<input type="hidden" name="confmKey" id="confmKey" value="<%= AppContext.getString("zipcd.service.key") %>"/>
			<input type="hidden" name="connectTimeout" id="connectTimeout" value="<%= AppContext.getString("zipcd.connect.ConnectTimeout") %>"/>
			<input type="hidden" name="readTimeout" id="readTimeout" value="<%= AppContext.getString("zipcd.connect.ReadTimeout") %>"/>
			<input type="hidden" name="keyword" id="keyword" />
			<input type="hidden" name="zipCode" id="zipCode" />
		</form>
		<div class="popupWrap type03 md-modal-3" name="popAddr" id="modal-1"> <!-- md-show -->
	        <header class="noLine">
	            <a href="#" class="layPopClose md-close"></a>
	        </header>

			<p class="desc">예) 도로명 :마곡중앙로 177 더넥센유니버시티 /지번 : 마곡동 756-5  / 건물명 : 넥센유니버시티 </p>

	        <div class="numberSearch type02">
				<label for="carNumber">우편번호 검색</label>
	            <input type="text" name="jusoTxt" id="jusoTxt" class="type04" onkeydown="enterSchKey('P');" placeholder="도로명/지번/건물명 주소 입력"> <a href="javascript:selectJuso('1');" class="searchBtn"></a>
	        </div>


	        <!--contents-->
	        <div class="popContents">
				<div class="zipCode">
					<div class="total">total<span id="totalCount"></span></div>

					<table class="tbl type02">
						<caption>검색완료</caption>
						<colgroup>
							<col style="width:70px"/>
							<col />
							<col style="width:120px"/>
						</colgroup>
						<thead>
							<tr>
								<th scope="col">
									주소
								</th>
								<th scope="col"></th>
								<th scope="col">
									우편번호
								</th>
							</tr>
						</thead>
						<tbody id="jusoList">
						</tbody>
					</table>
	            </div>

	            <!--paging-->
	            <div class="paging type02" id="paging" style="display:none;"></div>
				<!--paging-->

	        </div>
	        <!--contents-->
	    </div>
	    
	    <div class="popupWrap hAuto md-modal" name="popAddrDetail"> <!-- md-modal-3 md-effect-1 md-show -->
	        <header class="noLine">
	            <a href="#" class="layPopClose md-close"></a>
	        </header>
			<p class="desc"><!-- 예) 도로명 :마곡중앙로 177 더넥센유니버시티 /지번 : 마곡동 756-5  / 건물명 : 넥센유니버시티 --> </p>
	        <div class="numberSearch type02">
				<label for="carNumber">우편번호 검색</label>
	            <input type="text" name="" id="" disabled="disabled" class="type04" >
	        </div>
	        <!--contents-->
	        <div class="popContents">
	            <!-- 주소 -->
	            <table class="tbl submit">
	                <caption>주소</caption>
	                <colgroup>
	                    <col style="width:150px">
	                    <col>
	                </colgroup>
	                <tbody>
	                    <tr>
	                        <th scope="row">
	                            <label for="tit01"><span class="black">우편번호</span></label>
	                        </th>
	                        <td>
	                            <p id="popZipCode"></p>
	                        </td>
	                    </tr>
	                    <tr>
	                        <th scope="row" class="vTop">
	                            <label for="tit01"><span class="essen black">주소</span></label>
	                        </th>
	                        <td class="type02">
	                            <!-- 주소 -->
	                            <div class="address">
	                                <ul>
	                                    <li>
	                                        <span class="addTit">도로명</span>
	                                        <span id="popLoadAddr"></span>
	                                    </li>
	                                    <li>
	                                        <span class="addTit">지번</span>
	                                        <span  id="popJibunAddr"></span>
	                                    </li>
	                                </ul>
	                            </div>
	                            <!-- 주소 -->
	                        </td>
	                    </tr>
	                    <tr>
	                        <th scope="row" class="vTop">
	                            <label for="popDetailAddr"><span class="essen black">상세주소</span></label>
	                        </th>
	                        <td class="type03">
	                            <input type="text" name="popDetailAddr" class="type03 w450" id="popDetailAddr" maxlength="20" title="상세주소 입력란" placeholder="상세주소를 입력하세요">
	                        </td>
	                    </tr>
	                </tbody>
	            </table>
	            <!-- 주소 -->
	            <div class="btnArea type03">
	                 <button type="button" class="type04 w50per" onclick="sendChildValueCancle();">취소<i class="ico01"></i></button>
	                 <button type="button" class="type01 w50per" onclick="sendChildValueFix();">적용<i class="ico01"></i></button>
	             </div>

	        </div>
	        <!--contents-->
	    </div>
	    <div class="md-overlay"></div>
	    
		<!--subContentsWrap-->
        <div class="subContentsWrap"> 
            <div class="subContents">
				<div class="orderInfo">
					<!-- tabs -->
                    <div class="tabsWrap type02">
                    	<ul class="tabs">
                        	<li class="active" rel="tab01" id="ren">렌탈상담</li>
                            <li class="" rel="tab03" id="o2o">구매상담</li>
						</ul>
					</div>
                    <!-- tabs -->
                
                   		<!-- tab01-->
                    	<div id="tab01" class="tabContent">
							<div class="descInfo type05">
								<p>홈페이지를 통한 렌탈 주문이 불편하신 경우 상담 신청을 남겨주세요.</p>
                                <div class="proViewInfo">
                                	<p class="desc type08">
                                            타이어 렌탈 가입 상담을 원하시지 않을 경우 동의하지 않으실 수 있으며, 동의하지 않으실 경우 가입 안내 전화를 드리지 않습니다.
                                    </p>                                             
                                </div>
                            </div>
                                
							<div class="cAgree">
                                <input type="checkbox" id="allAgree" name="" value="0" class="type01" onchange="javascript:checkAgree()" checked>
                                <label for="allAgree" class="fb"><span></span><em>타이어 렌탈 가입 상담을 위한 개인정보 수집 및 이용에 동의합니다.</em></label>
                                    
                                <div class="infoBox type02">
                                    <ul>
                                        <li>
                                            <span>이용목적</span>
                                            <span>타이어 렌탈 가입 상담 및 계약 체결</span>
                                        </li>
                                        <li>
                                            <span>항목</span>
                                            <span>이름, 주소, 연락처(핸드폰), 차종</span>
                                        </li>
                                        <li>
                                            <span>보유기간</span>
                                            <span>상담 종료일로부터 90일 이내</span>
                                        </li>
                                    </ul>                                    
                                </div>
                            </div>
                               
                            <h3 class="type11">기본 정보</h3>
                    
                            <div class="submitAreaWrap type02">
                                <!--submitLeft-->
                                <div class="submitLeft">
                                    <div class="submitArea type04">
                                        <div class="submit">
                                            <label for="name"><span class="essen black">이름</span></label>
                                            <input type="text" name="" class="type03 w280" id="name" title="이름 입력란" placeholder="이름을 입력해주세요" maxlength ="20">
                                        </div>
                                    </div>
                                </div>
                                <!--submitLeft-->

                                <!--submitRight-->
                                <div class="submitRight">
                                    <div class="submitArea type04">
                                        <div class="submit">
                                            <label for="phone11"><span class="essen black">휴대전화</span></label>
                                            <select class="type04 w80 ml20" id="phone11" title="휴대전화 앞자리 선택">
                                                <option>010</option>
                                                <option>011</option>
                                                <option>016</option>
                                                <option>017</option>
                                                <option>018</option>
                                                <option>019</option>
                                            </select>

                                            <span class="divi type02"></span>
                                            <input type="text" name="" class="type07 w80" id="phone12" title="휴대전화 중간번호 입력란" maxlength="4" onkeyup="return validNumberCheck.keyUp(event);">

                                            <span class="divi type02"></span>
                                            <input type="text" name="" class="type07 w80" id="phone13" title="휴대폰 끝번호 입력란" maxlength="4" onkeyup="return validNumberCheck.keyUp(event);">
                                        </div>
                                    </div>
                                </div>
                                <!--submitRight-->
                            </div>

                            <div class="submitArea type06 w100per">
								<div class="submit">
									<label for="address01"><span class="essen black">주소</span></label>
                                    <div class="conWrap type02">
                                        <a class="searchBtn03 md-trigger" onclick="javascript:selectJusoPop();" data-modal="modal-1"></a>
                                        <input type="text" name="" class="type03 w970" id="info02" title="주소 입력란" placeholder="주소를 검색하세요"> 
                                    </div>

								</div>
							</div>
                                
                            <h3 class="type11">차량 정보</h3>
                            
                            <div class="submitArea type04 multi w100per">
                                <div class="submit">
                                    <label for="manufacturer"><span class="black">차량 정보</span></label>                                    

                                    <div class="conWrap">
                                        <div class="raWrap">
                                            <input type="radio" name="carSearch" id="car02" value="2" class="type06 md-trigger" title="차종검색 선택"><label for="car02"><span>차종 검색</span></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                
                            <!-- 정보 -->
                            <div> 
                                <div class="submitAreaWrap type02">
	                                <!--submitLeft-->
	                                <div class="submitLeft">
	                                    <div class="submitArea type04">
	                                        <div class="submit">
	                                            <label for="maker"><span class="black">제조사</span></label>                                    
	                                            <div id="maker" class="conWrap type05"></div>
	                                        </div>
	                                    </div>
	                                    
	                                    <div class="submitArea type04">
	                                        <div class="submit">
	                                            <label for="size"><span class="black">규격(사이즈)</span></label>                                    
	                                            <div id="size" class="conWrap type05"></div>
	                                        </div>
	                                    </div>
	                                </div>
	                                <!--submitLeft-->

	                                <!--submitRight-->
	                                <div class="submitRight">
	                                    <div class="submitArea type04">
	                                        <div class="submit">
	                                            <label for="model"><span class="black">차종</span></label>
	                                            <div id="model" class="conWrap type05"></div>
	                                        </div>
	                                    </div>
	                                    
	                                    <div class="submitArea type04">
	                                        <div class="submit">
	                                            <label for="quantity"><span class="black">수량</span></label>
	                                            
	                                            <div class="conWrap">
	                                                <select class="type04 w100" id="quantity" title="수량 선택">
	                                                    <option value="01">1</option>
	                                                    <option value="02">2</option>       
	                                                    <option value="03">3</option>
	                                                    <option value="04">4</option>
	                                                </select>  
	                                            </div>
	                                        </div>
	                                    </div>
	                                </div>
	                                <!--submitRight-->
                            	</div>
                            </div>
                            <!-- 정보 -->
                                
                            <p class="desc">※ 콜센터  1855-0100 / 운영 시간 평일  09:00 ~ 18:00  (주말 및 공휴일 휴무) / 영업시간 기준 우선 접수 순으로 연락 드리겠습니다.</p>

                            <div class="btnArea type03 center">
                                 <button id="rentCounselReg" type="button" class="type01 center w387">등록</button>
                            </div>
                        </div>
                        <!-- tab01-->
                        
                        <!-- tab03-->
                        <div id="tab03" class="tabContent">
                            <div class="descInfo type05">
                                <p>온라인 구매 관련 상담을 남겨주세요. </p>
                                <div class="proViewInfo">
                                    <p class="desc type08">
                                        문의 전에 <a href="/bbs/qnaList" style="color:blue;">‘자주 묻는 질문’</a> 리스트에서 궁금하신 사항을 확인하시면, 쉽고 빠르게 궁금증을 해결하실 수 있습니다.
                                    </p>                                             
                                </div>
                            </div>
                            <div class="cAgree">
                                <input type="checkbox" id="allAgree02" name="" value="0" class="type01" onchange="javascript:checkAgree02()" checked>
                                <label for="allAgree02" class="fb"><span></span><em>구매 상담을 위한 개인정보 수집 및 이용</em></label>
                                <div class="infoBox type02">
                                    <ul>
                                        <li>
                                            <span>이용목적</span>
                                            <span>구매상담</span>
                                        </li>
                                        <li>
                                            <span>항목</span>
                                            <span>이름, 연락처(핸드폰)</span>
                                        </li>
                                        <li>
                                            <span>보유기간</span>
                                            <span>상담 종료일로부터 90일 이내</span>
                                        </li>
                                    </ul>                                    
                                </div>
                            </div>
                            
                            <h3 class="type11">구매상담</h3>
                                <div class="submitAreaWrap type02">
                                    <!--submitLeft-->
                                    <div class="submitLeft">
                                        <div class="submitArea type04">
                                            <div class="submit">
                                                <label for="name01"><span class="essen black">이름</span></label>                                    
                                                <input type="text" name="" class="type03 w280" id="name01" title="이름 입력란" maxlength="20" placeholder="이름을 입력해주세요">
                                            </div>
                                        </div>
                                    </div>
                                    <!--submitLeft-->

                                    <!--submitRight-->
                                    <div class="submitRight">
                                        <div class="submitArea type04">
                                            <div class="submit">
                                                <label for="phone21"><span class="essen black">휴대전화</span></label>
                                                <select class="type04 w80 ml20" id="phone21" title="휴대전화 앞자리 선택">
                                                    <option>010</option>
	                                                <option>011</option>
	                                                <option>016</option>
	                                                <option>017</option>
	                                                <option>018</option>
	                                                <option>019</option>
                                                </select>   

                                                <span class="divi type02"></span>                                
                                                <input type="text" name="" class="type07 w80" id="phone22" title="휴대전화 중간번호 입력란" maxlength="4" onkeyup="return validNumberCheck.keyUp(event);">

                                                <span class="divi type02"></span>                                
                                                <input type="text" name="" class="type07 w80" id="phone23" title="휴대폰 끝번호 입력란" maxlength="4" onkeyup="return validNumberCheck.keyUp(event);">
                                            </div>
                                        </div>
                                    </div>
                                    <!--submitRight-->
                                </div>

                                <div class="submitArea type06  multi w100per">
                                    <div class="submit type02">
                                        <label for="tit01"><span class="essen black">제목</span></label>
										<input type="text" name="" class="type03 w970" id="tit01" title="제목 입력란" placeholder="제목을 입력해주세요" maxlength="30" onkeyup='javascript:fn_chkByte(this,100);'> 
                                    </div>
                                    
                                    <div class="submit type02">
                                        <label for="con01" class="vTop"><span class="essen black">내용</span></label>

                                        <div class="conWrap type02">
                                            <textarea id="textArea" title="내용 입력란" placeholder="내용을 입력해주세요" class="type02 w970 h200" onkeyup='javascript:fn_chkByte(this,2000);'></textarea>
                                            <h6 id="nowByte" style="color:#bbb">0/2000 Byte</h6>
                                        </div>
                                    </div>
                                    
                                    <div class="submit">
                                        <label for="file01" class="vTop"><span class="essen black">첨부이미지</span></label>

                                        <div class="conWrap type02">
                                            <form>
                                                 <div class="fileUpWrap type02"> 
                                                     <label for="fileInput">
                                                         <input type="file" onchange="readURL(this);" /> <span id="imgFileNm" class="txt">이미지 파일을 첨부하세요</span>
                                                     </label>

                                                    <div class="preview">
                                                        <img id="fileUp02" alt="" />	
                                                    </div>
                                                 </div>
                                            </form>
                                        </div>
                                    </div>
                                    
                                    <p class="validation type08">
                                        <span><i class="ico11"></i>첨부파일은 5MB 이하의 이미지(jpg, png, bmp) 파일만 업로드 가능합니다.</span>
                                    </p>
                               </div>
                            
                            <div class="btnArea type03 center">
                                 <button type="button" id="purcCounselReg" class="type01 center w387">등록</button>
                            </div>
                        </div>
                        <!-- tab03-->
                </div>
            </div>
		</div>
		<!--subContentsWrap-->

<script type="text/javascript">
	var fileData01 = "";
	var Gbn = '${gbn}';
	
	// 글자수 세기 keyon
	function fn_chkByte(inTexts, textMax){
		
		var lsStr = inTexts.value; 
		var liStrLen = lsStr.length; 		//전체길이
		
		//변수초기화
		var liMax = textMax; 				//제한할 글자수 크기
		var liByte = 0;   					//한글일경우 2, 그외글자는 1을 더함
		var liLen = 0;    					// substring하기 위해 사용
		var lsOneChar = "";  				//한글자씩 검사
		var lsStr2 = "";      				//글자수를 초과하면 제한한 글자전까지만 보여줌.
		
		for(i=0; i< liStrLen; i++){
			lsOneChar = lsStr.charAt(i); //한글자 추출
			
			if(escape(lsOneChar).length > 4){ 
				liByte +=2;   				//한글이면 2를 더한다
			}else{
				liByte++;     				//한글아니면 1을 다한다
			}
			  
			if(liByte <= liMax){
				liLen = i + 1;
			}
		}
		
		if(liByte > liMax){
			lsStr2 = lsStr.substr(0, liLen);
			inTexts.value = lsStr2;
		}
		
		if(inTexts.id == "textArea"){
			document.getElementById("nowByte").innerHTML = liByte + "/" + textMax + " Byte";
		}
		return liByte+"Byte";
	}
	
	// 이미지 업로드
	function readURL(input) {
		if(input.files && input.files[0]) {
			if(chkAttFileExt(input.files[0].name)) {
				var reader = new FileReader();
	            reader.onload = function(e) {
	            	$('#fileUp02').attr('src', e.target.result);
	            }
	            reader.readAsDataURL(input.files[0]);
	            fileData01 = input.files[0];
	            $("#imgFileNm").text(input.files[0].name);
			} else {
				ComUtil.alert("첨부파일은 이미지(jpg, png, gif, pdf, bmp) 파일만 가능합니다.");
			}
        }
    }
	
	// 파일 업로드에서 이미지 파일만 올리기 (jpg,png,gif,pdf,bmp)
	function chkAttFileExt(imgNm){
		var thumbext = imgNm;
		thumbext = thumbext.slice(thumbext.indexOf(".") + 1).toLowerCase(); //파일 확장자를 잘라내고, 비교를 위해 소문자로 만듭니다.

		if(thumbext != "jpg" && thumbext != "png" && thumbext != "gif" 
				&& thumbext != "pdf" && thumbext != "bmp" && thumbext != "jpeg") {
			return false;
		}
	    return true;
	}
	
	function checkAgree(){
		var isChecked = $("#allAgree").prop("checked");
		$("#rentCounselReg").prop("disabled",!isChecked);
	}
	
	function checkAgree02(){
		var isChecked = $("#allAgree02").prop("checked");
		$("#purcCounselReg").prop("disabled",!isChecked);
	}
	
	//차량번호,우편 번호 검색 - enterKey
	function enterSchKey(gubun) {
		var evt_code = (window.netscape) ? ev.which : event.keyCode;
		if (evt_code == 13) {
			event.keyCode = 0;
			if(gubun == "C"){
				$("#btnCarNumber").click();
			}else if(gubun == "P"){
				selectJuso('1');				
			}
		}
	}
	
	//우편 번호 검색 - 검색 버튼 클릭
	function selectJuso(pageNo) {
		if(pageNo != null){
			if(Number(pageNo)  == 0) {
				$("#currentPage").val("1");
			} else {
				$("#currentPage").val(pageNo);
			}
		}

		$("#keyword").val($("#jusoTxt").val());
		$("#loadingWrap").show();

		$.ajax({
			 url :"<%= AppContext.getString("zipcd.url") %>"
			,type:"post"
			,data:$("#jusoFrm").serialize()
			,dataType:"jsonp"
			,crossDomain:true
			,success:function(xmlStr){
				$("#loadingWrap").hide();
				
				if(navigator.appName.indexOf("Microsoft") > -1){
					var xmlData = new ActiveXObject("Microsoft.XMLDOM");
					xmlData.loadXML(xmlStr.returnXml)
				}else{
					var xmlData = xmlStr.returnXml;
				}

				var errCode = $(xmlData).find("errorCode").text();
				var errDesc = $(xmlData).find("errorMessage").text();
				if(errCode != "0"){
					ComUtil.alert(errDesc);
				}else{
					if(xmlStr != null){
						makeList(xmlData);
					}
				}
			}
		    ,error: function(xhr,status, error){
		    	ComUtil.alert("에러발생");
		    }
		});
	}
	
	//주소 선택 팝업
	function selectJusoPop(){
		$("#totalCount").text("");
		$("#jusoList").html("");
		$("#jusoTxt").val("");
		$("#paging").html("");
		$("#popDetailAddr").val("")
		$("div[name='popAddr']").addClass("md-show");
	}
	
	//상세 우편 번호
	function sendChildValue(zipCode, bdMgtSn, load, jibun) {
		$("div[name='popAddr']").removeClass("md-show");
		$("#popZipCode").text(zipCode);
		$("#popLoadAddr").text(load + " " + bdMgtSn);
		$("#popJibunAddr").text(jibun);
		$("#zipCode").val(zipCode);
		$("div[name='popAddrDetail']").addClass("md-show");
	}
	
	//주소리스트 출력
	function makeList(xmlStr){
		var totCnt = Number($(xmlStr).find("totalCount").text());
		$("#totalCount").text(totCnt);

		var htmlStr = "";
		if(totCnt != 0){
			$(xmlStr).find("juso").each(function(){
				htmlStr += "<tr onClick=\"sendChildValue('"+$(this).find('zipNo').text()+"','"+$(this).find('bdNm').text()+"','"+$(this).find('roadAddrPart1').text()+"','"+$(this).find('jibunAddr').text()+"')\">";
				htmlStr += "	<td>";
				htmlStr += "		<div class='addDiv'>";
				htmlStr += "			<span class='roadName mb6'>도로명</span>";
				htmlStr += "			<span class='nomination'>지명</span>";
				htmlStr += "		</div>";
				htmlStr += "	</td>";
				htmlStr += "	<td>";
				htmlStr += "		<div class='address'>";
				htmlStr += "			<p>"+$(this).find('roadAddrPart1').text()+"</p>";
				htmlStr += "			<p>"+$(this).find('jibunAddr').text()+" </p>";
				htmlStr += "		</div>";
				htmlStr += "	</td>";
				htmlStr += "	<td class='tCenter'>";
				htmlStr += "		<p class='zipNum'>"+$(this).find('zipNo').text()+"</p>";
				htmlStr += "	</td>";
				htmlStr += "</tr>";
				htmlStr += "</tr>";
			});

		}else{
			htmlStr += "		<tr>"
			htmlStr += "			<td colspan='3'>검색결과가 없습니다.</td>"
			htmlStr += "		</tr>"
		}

		$("#jusoList").html(htmlStr);
		var totCnt = Number($(xmlStr).find("totalCount").text());
		$("#totalCount").text(totCnt);
		//$("#jusoTxt").val("");

		//paging
		PageUtil.fnPageMakeDisplay(totCnt, $("#currentPage").val() ,  $('#paging') , 'selectJuso', 4);
	}
	
	//상세 주소 화면
	function sendChildValueFix() {
		if( $("#popDetailAddr").val() === "" || + $("#popDetailAddr").val() === null) {
			ComUtil.alert("상세주소를 입력하세요.");
			return false;
		}else{
			$("#info02").val($("#popLoadAddr").text()+' '+$("#popDetailAddr").val());
		$(".layPopClose").click();
		}
		
	}
	
	function sendChildValueCancle() {
		$(".layPopClose").click();
	}
	
	function chkRentValidation(){
		if( $("#name").val() === "" || + $("#name").val() === null) {
			ComUtil.alert("이름를 입력해주세요.");
			return false;
		}
		if( $("#phone12").val() === "" || + $("#phone12").val() === null) {
			ComUtil.alert("휴대전화를 입력해주세요.");
			return false;
		}
		
		if( $("#phone13").val() === "" || + $("#phone13").val() === null) {
			ComUtil.alert("휴대전화를 입력해주세요.");
			return false;
		}
		
		if( $("#info02").val() === "" || + $("#info02").val() === null) {
			ComUtil.alert("주소를 입력해주세요.");
			return false;
		}
		
		if( $("#zipCode").val() === "" || + $("#zipCode").val() === null) {
			ComUtil.alert("주소를 검색하세요.");
			return false;
		}
		
		if( $("#size").text() === "" || + $("#size").text() === null) {
			ComUtil.alert("차량을 검색하세요.");
			return false;
		}
		
		
		
		return true;
	}
	
	//필수값 체크 validation
	function chkPurcValidation(){
		if( $("#name01").val() === "" || + $("#name01").val() === null) {
			ComUtil.alert("이름를 입력해주세요.");
			return false;
		}
		if( $("#phone22").val() === "" || + $("#phone22").val() === null) {
			ComUtil.alert("휴대전화를 입력해주세요.");
			return false;
		}
		if( $("#phone23").val() === "" || + $("#phone23").val() === null) {
			ComUtil.alert("휴대전화를 입력해주세요.");
			return false;
		}
		if($("#tit01").val() === "" || $("#tit01").val() === null) {
			ComUtil.alert("제목을 입력해주세요.");
			return false;
		}
		if($("#textArea").val() === "" || $("#textArea").val() === null) {
			ComUtil.alert("내용을 입력해주세요.");
			return false;
		}
		
	    return true;
	}
	$( document ).ready(function() {
		
		/* 전시상세 구매에서 넘어왔을경우 구매탭으로 바로 이동 시킵디다.*/
		if(Gbn == 'o2o'){$('#o2o').click();}
		
		$("#modal-3").hide();
		$("#modal-4").hide();
		$("#modal-5").hide();
		
		//검색 버튼 클릭 시 - modal-1 레이어 팝업 호출
		//LAYER POP CLICK EVENT > 차량 간편 검색 선택 시
		//검색 순서 제조사 > 모델명 > 사이즈
		$("input[name='carSearch']").on("click" , function(){
			$(".scrollBox").hide();
			$("#modal-3").show();
			$("#modal-4").show();
			$("#modal-5").show();

			//common ajax call
			var pUrl = "/product/selectMakerList";
			var pSendData = {classCd : "", recomYn : "" , makerCd : "" , systemGbn:"R"};
			evManager.commonAjax(pUrl, pSendData, callBackManager.makerList);
			// end tag -- common ajax call
		});
		
		//제조사 선택 이벤트 > 모델 선택 화면 오픈
		$(document).on("click","input[name='makerCd']" , function(){
			$("#makerCd").val($(this).val());
			$("#makerNm").val($(this).attr("makerNm"));

			//모델 목록 조회
			var pUrl = "/product/selectModelList";
			var pSendData = {classCd : "", recomYn : "" , makerCd : $("#makerCd").val() , systemGbn:"R"};
			evManager.commonAjax(pUrl, pSendData, callBackManager.selectModelList);
		});
		// -- end tag

		//모델 선택 이벤트 > 사이즈 선택 화면 오픈
		$(document).on("click","input[name='modelCd']" , function(){
			$("#modelCd").val($(this).val().split("^")[0]);
			$("#contentsCd").val($(this).val().split("^")[1]);
			$("#modelNm").val($(this).attr("modelNm"));

			//사이즈 목록 조회
			var pUrl = "/product/selectTireSizeList";
			var pSendData = {modelCd : $("#modelCd").val() , contentsCd : $("#contentsCd").val(), recomYn : "" , classCd : "", niceGradeCd: null , systemGbn:"R"};
			evManager.commonAjax(pUrl, pSendData, callBackManager.selectTireSizeList);
		});
		
		//사이즈 , 인치 선택 이벤트 > 사이즈 , 인치 선택 화면 오픈
		$(document).on("click","input[name='sizeCd'] , input[name='inches'] " , function(){
			var gbn = ""; //이벤트 구분 - 화면이 틀려짐

			//사이즈
			if($(this).attr("name") == "sizeCd") {
				gbn = "S";
				$("#TireSizeCd").val($(this).val());
				$("#TireSizeNm").val($(this).attr("sizeNm"));
				$("#sectionWidth").val($(this).val().split("^")[0]);
				$("#aspectRatio").val($(this).val().split("^")[1]);
				$("#wheelInches").val($(this).val().split("^")[2]);
				$("#plyRating").val($(this).attr("plyRating"));
			}
			//인치
			else {
				gbn = "I";
				$("#wheelInches").val($(this).val());
				$("#plyRating").val($(this).attr("plyRating"));
			}

			//필터와 구분 하기 위해
			evManager.searchYn = true;
			$("span.filter").text(0);
			$("span.filter").text(0);

			//검색 여부
			evManager.searchYn = true;

			//팝업 종료
			$("#maker").text($("#makerNm").val());
			$("#size").text($("#TireSizeNm").val());
			$("#model").text($("#modelNm").val());
			$(".layPopClose").click();
			
			//var pUrl = "/product/selectPrdList";
			//파라미터는 공통으로 사용 - evManager.listParam()
			//evManager.commonAjax(pUrl, evManager.listParam(), callBackManager.selectMakePrdList , gbn);
		});
		
		$("#rentCounselReg").on("click", function() {
			if(chkRentValidation()) {
				this.setAttribute("disabled","disabled");
				
		        var fParam = new FormData();
		        var tireSizeCd = $("#TireSizeCd").val() + "";
		        var tireSizeCd2 = tireSizeCd.replace("^","/");
		        var tireSizeCd3 = tireSizeCd2.replace("^","R");
		        
		        fParam.append("custNm", $("#name").val());
		        fParam.append("addr", $("#info02").val());
		        fParam.append("mobNo", $("#phone11").val() + $("#phone12").val() + $("#phone13").val());
		        fParam.append("mcNm", $("#model").text());
		        fParam.append("specNm", tireSizeCd3);
		        fParam.append("cnt", $("#quantity").val());
		        fParam.append("zipCd", $("#zipCode").val());
		        fParam.append("contactGet", "");
		        
		        $("#loadingWrap").show();
		        //cfnSendRequest("/mypage/insertQuestion",param,'insertQuestion');
				$.ajax({
				    url: "/bbs/insertRentCounsel",
				    type: "POST",
				    cache: false,
				    data: fParam,
				    processData: false,
		            contentType: false,
				    //contentType:"application/x-www-form-urlencoded;charset=UTF-8",  // ajax 통신으로 보내는 타입
				    success: function(data) {
				    	$("#loadingWrap").hide();
				    	if(data.rtnCode == "0") {
				    		ComUtil.alert("성공적으로 등록 되었습니다.");
				    		location.href = "/bbs/counselRegister";
				    	} else {
				    		ComUtil.alert("관리자에게 문의하세요.");
				    	}
				    },
				    error: function (request, status, error) {
				    	$("#loadingWrap").hide();
				    	ComUtil.alert(error);
					}
				});
			}
		});

		$("#purcCounselReg").on("click", function() {
			if(chkPurcValidation()) {
				this.setAttribute("disabled","disabled");
				
				var form = $('#frm')[0];
		        //FormData parameter에 담아줌
		        var fParam = new FormData();
		        
		        fParam.append("title", $("#tit01").val());
		        fParam.append("cont", $("#textArea").val());
		        fParam.append("qustClsCd", "6");
		        fParam.append("mobNo", $("#phone21").val() + $("#phone22").val() + $("#phone23").val());
		        fParam.append("writNm", $("#name01").val());
		        if(fileData01 !== "" && fileData01 !== null) {
		        	fParam.append("bizFiles", fileData01);
		        }
				
		        $("#loadingWrap").show();
		        //cfnSendRequest("/mypage/insertQuestion",param,'insertQuestion');
				$.ajax({
				    url: "/bbs/insertPurcCounsel",
				    type: "POST",
				    cache: false,
				    data: fParam,
				    processData: false,
		            contentType: false,
				    //contentType:"application/x-www-form-urlencoded;charset=UTF-8",  // ajax 통신으로 보내는 타입
				    success: function(data) {
				    	$("#loadingWrap").hide();
				    	if(data.rtnCode == "0") {
				    		ComUtil.alert("성공적으로 등록 되었습니다.");
				    		location.href = "/bbs/counselRegister";
				    	} else {
				    		ComUtil.alert("관리자에게 문의하세요.");
				    	}
				    },
				    error: function (request, status, error) {
				    	$("#loadingWrap").hide();
				    	ComUtil.alert(error);
					}
				});
			}
		});
		
	});
	
	var evManager = {
			//이전 화면 구분 값 : M : 메인  조회 , H : 헤더
			viewGbn : "${viewGbn}"
			,
			loginName : "${userVo.getUsrName()}"
			,
			officerCd : "${userVo.getOfficerCd()}"
			,
			//조회 여부
			searchYn : false
			,
			//필터 선택 수
			filterCnt : 0
			,
			//검색 여부
			searchYn : false
			,
			niceGradeCd : new Array()
			,
			//공통 AJAX 호출
			commonAjax : function(url, param, callback , gbn) {
				$("#loadingWrap").show();
				$.ajax({
				    url: url,
				    type: "POST",
				    cache:false,
				    data: JSON.stringify(param),
				    contentType:"application/json;charset=UTF-8",  // ajax 통신으로 보내는 타입
				    success: function(data) {
				    	$("#loadingWrap").hide();
				    	if(data != null) {
				    		callback(data , gbn);
				    	}
				    },
				    error: function (request, status, error) {
				    	$("#loadingWrap").hide();
				    	callBackManager.error(error)

					}
				});
				// end tag -- common ajax call
			}
		}
	
	/* ################################# AJAX CALLBACK ARAR #################################  */
	var callBackManager = {
		//에러 처리
		error : function(error) {
			console.log('error callback : ' + error);
		}
		,
		//제조사 선택 팝업
		makerList : function(data){
			var htmlStr = "";
			htmlStr	+= "<div class='os-resize-observer-host'><div class='os-resize-observer observed' style='left: 0px; right: auto;'></div></div>";
			htmlStr	+= "<div class='os-padding'>";
			htmlStr	+= "<div class='os-viewport os-viewport-native-scrollbars-invisible' style='overflow-y: scroll; right: 0px; bottom: 0px;'>";
			htmlStr	+= "<div class='os-content' style='padding: 38px 0px 38px 25px; height: 100%; width: 100%;'>";
			for(var i=0; i < data.length; i++) {
				if(i > 0 && (i % 7 == "0") ){
					htmlStr	+= "</ul>";
				}
				if(i == "0" || i % 7 == "0"){
					htmlStr	+= "<ul class='sizeSelect type02'>";
				}
				htmlStr	+= "<li>";
				htmlStr	  += "   <input type='radio' name='makerCd' id='makerCd" + (i+1) + "' value='"+data[i].searchCd+"' makerNm='"+data[i].searchCdNm+"' class='type05'><label for='makerCd" + (i+1) + "'><span><img src='/img/carLogo/" + data[i].searchCd + ".png '  alt='"+data[i].searchCdNm+"'/></span></label>";
				htmlStr	+= "</li>";

			}
			htmlStr	+= "</div>";
			htmlStr	+= "</div>";
			htmlStr	+= "</div>";
			htmlStr	+= "<div class='os-scrollbar os-scrollbar-horizontal os-scrollbar-unusable'><div class='os-scrollbar-track os-scrollbar-track-off'><div class='os-scrollbar-handle' style='width: 100%; transform: translate(0px, 0px);'></div></div></div>";
			htmlStr	+= "<div class='os-scrollbar os-scrollbar-vertical'><div class='os-scrollbar-track os-scrollbar-track-off'><div class='os-scrollbar-handle' style='height: 48.6692%; transform: translate(0px, 0px);'></div></div></div>";
			htmlStr	+= "<div class='os-scrollbar-corner'></div>";

			$("#searchClCdArea").html(htmlStr);
			$('#searchClCdArea').css("display","block");

			//화면 disabled
			$("#modal-3").addClass("md-show");
			$(".scrollBox").eq(0).show();
		}
		,
		//모델 선택 팝업
		selectModelList : function(data) {
			var htmlStr = "";
			htmlStr	+= "<div class='os-resize-observer-host'><div class='os-resize-observer observed' style='left: 0px; right: auto;'></div></div>";
			htmlStr	+= "<div class='os-padding'>";
			htmlStr	+= "<div class='os-viewport os-viewport-native-scrollbars-invisible' style='overflow-y: scroll; right: 0px; bottom: 0px;'>";
			htmlStr	+= "<div class='os-content' style='padding: 38px 0px 38px 25px; height: 100%; width: 100%;'>";
			for(var i=0; i < data.length; i++) {
				if(i > 0 && (i % 5 == "0") ){
					htmlStr	+= "</ul>";
				}

				if(i == "0" || i % 5 == "0"){
					htmlStr	+= "<ul class='sizeSelect'>";
				}
				htmlStr	+= "<li>";
				htmlStr	  += "   <input type='radio' name='modelCd' id='modelCd" + (i+1) + "' value='"+data[i].searchCd+"' modelNm='"+data[i].searchCdNm+"' classCd='"+data[i].classCd+"' class='type04 w300'><label for='modelCd"+(i+1)+"'><span>"+data[i].searchCdNm+"</span></label>";
				htmlStr	+= "</li>";
			}
			htmlStr	+= "</div>";
			htmlStr	+= "</div>";
			htmlStr	+= "</div>";
			htmlStr	+= "<div class='os-scrollbar os-scrollbar-horizontal os-scrollbar-unusable'><div class='os-scrollbar-track os-scrollbar-track-off'><div class='os-scrollbar-handle' style='width: 100%; transform: translate(0px, 0px);'></div></div></div>";
			htmlStr	+= "<div class='os-scrollbar os-scrollbar-vertical'><div class='os-scrollbar-track os-scrollbar-track-off'><div class='os-scrollbar-handle' style='height: 48.6692%; transform: translate(0px, 0px);'></div></div></div>";
			htmlStr	+= "<div class='os-scrollbar-corner'></div>";

			$("#modelArea").html();
			$("#modelArea").html(htmlStr);
			$('#modelArea').css("display","block");

			var titleHtmlStr = "";
			titleHtmlStr += "<ul>";
			titleHtmlStr += "<li>" + $("#makerNm").val() + "</li>";
			titleHtmlStr += "<li></li>";
			titleHtmlStr += "</ul>";
			$("#modal-4").children(".sizeSelectView").html(titleHtmlStr);

			$("#modal-3").removeClass("md-show");
			$("#modal-4").addClass("md-show");
			$(".scrollBox").eq(1).show();
		}
		,
		//사이즈 선택 팝업
		selectTireSizeList : function(data) {
			var htmlStr = "";
			htmlStr	+= "<div class='os-resize-observer-host'><div class='os-resize-observer observed' style='left: 0px; right: auto;'></div></div>";
			htmlStr	+= "<div class='os-padding'>";
			htmlStr	+= "<div class='os-viewport os-viewport-native-scrollbars-invisible' style='overflow-y: scroll; right: 0px; bottom: 0px;'>";
			htmlStr	+= "<div class='os-content' style='padding: 38px 0px 38px 25px; height: 100%; width: 100%;'>";
			for(var i=0; i < data.length; i++) {
				if(i > 0 && (i % 5 == "0") ){
					htmlStr	+= "</ul>";
				}

				if(i == "0" || i % 5 == "0"){
					htmlStr	+= "<ul class='sizeSelect'>";
				}
				htmlStr	+= "<li>";
				htmlStr	  += "   <input type='radio' name='sizeCd' id='sizeCd" + (i+1) + "' value='"+data[i].searchCd+"' sizeNm='"+data[i].description + " "+ data[i].searchCdNm+"' classCd='"+data[i].classCd+"' plyRating='"+data[i].plyRating+"' class='type04'><label for='sizeCd"+(i+1)+"'><span>"+ data[i].description+ " " + data[i].searchCdNm + "</span></label>";
				htmlStr	+= "</li>";
			}
			htmlStr	+= "</div>";
			htmlStr	+= "</div>";
			htmlStr	+= "</div>";
			htmlStr	+= "<div class='os-scrollbar os-scrollbar-horizontal os-scrollbar-unusable'><div class='os-scrollbar-track os-scrollbar-track-off'><div class='os-scrollbar-handle' style='width: 100%; transform: translate(0px, 0px);'></div></div></div>";
			htmlStr	+= "<div class='os-scrollbar os-scrollbar-vertical'><div class='os-scrollbar-track os-scrollbar-track-off'><div class='os-scrollbar-handle' style='height: 48.6692%; transform: translate(0px, 0px);'></div></div></div>";
			htmlStr	+= "<div class='os-scrollbar-corner'></div>";

			$("#sizeArea").css("display","block");
			$("#sizeArea").html();
			$("#sizeArea").html(htmlStr);
			

			var titleHtmlStr = "";
			titleHtmlStr += "<ul>";
			titleHtmlStr += "<li>" + $("#makerNm").val() + "</li>";
			titleHtmlStr += "<li>" + $("#modelNm").val() + "</li>";
			titleHtmlStr += "<li></li>";
			titleHtmlStr += "</ul>";
			$("#modal-5").children(".sizeSelectView").html(titleHtmlStr);

			$("#modal-4").removeClass("md-show");
			$("#modal-5").addClass("md-show");
			$(".scrollBox").eq(2).show();
		}
	}
	/* ################################# AJAX CALLBACK ARAR #################################  */
</script>